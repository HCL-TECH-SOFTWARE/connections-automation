- name:              Install compat-libstdc++-33 from RPM
  package:
    name:            http://mirror.centos.org/centos/7/os/x86_64/Packages/compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm
    state:           present
    disable_gpg_check:   yes
  when:
    - ansible_os_family == "RedHat"
    - ansible_distribution_major_version == "7"

- name:              Install system requirements on CentOS8/RHEL8
  ansible.builtin.yum:
    name:
      - https://rpmfind.net/linux/centos/7.9.2009/os/x86_64/Packages/compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm
      - https://rpmfind.net/linux/centos/7.9.2009/os/x86_64/Packages/compat-libstdc++-33-3.2.3-72.el7.i686.rpm
      - libnsl
      - glibc
      - nss-softokn
      - libXpm
      - unzip
      - gtk2
      - libXtst
    state:          latest 
    validate_certs: no
    disable_gpg_check: yes
  when:
    - ansible_os_family == "RedHat"
    - ansible_distribution_major_version == "8"
